FROM fedora
MAINTAINER Micah Abbott <micah@redhat.com>
RUN yum -y update; yum -y install cloud-utils gcc gcc-c++ git libffi-devel python-devel python-pip sudo vim; yum clean all
WORKDIR /root
RUN git clone http://git.app.eng.bos.redhat.com/git/atomic-ci-jobs.git
RUN git clone http://git.app.eng.bos.redhat.com/git/ci-ops-central.git
RUN git clone https://github.com/aweiteka/UATFramework.git
RUN git clone https://github.com/miabbott/utils.git
WORKDIR /root/ci-ops-central
RUN ./install.sh
WORKDIR /root/UATFramework
RUN pip install -r requirements.txt
WORKDIR /root
RUN mkdir /root/.ssh/; chmod 0700 /root/.ssh; cp /root/ci-ops-central/targets/keys/ci-ops-central /root/.ssh/id_rsa; chmod 0600 /root/.ssh/id_rsa
RUN ln -s /root/resources.json /root/UATFramework/resources.json; ln -s /root/ci-ops-central/utils/central_ci_dynamic_hosts.py /root/UATFramework/config/central_ci_dynamic_hosts.py; cp /root/atomic-ci-jobs/project/tests/config_data/team6-uat.cfg /root/UATFramework/config/uat.cfg
ENV OS_AUTH_URL="http://qeos.lab.eng.rdu2.redhat.com:5000/v2.0" OS_TENANT_ID="f0269e92050742a3b68fbde6777a3110" OS_TENANT_NAME="atomic-e2e-jenkins" OS_USERNAME="atomic-e2e-jenkins" OS_PASSWORD=changeme
CMD /bin/bash
